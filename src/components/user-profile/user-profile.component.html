<div class="col-lg-6 col-md-6 border rounded mt-20 middle-panel">
  <div class="p-3 py-4">
    <div class="text-center">
      <div *ngIf="profile.profilepic">
        <img [src]="profile.profilepic" alt="" class="rounded-circle" />
      </div>
      <div *ngIf="!profile.profilepic">
        <img src="../../assets/images/user.jfif" alt="" class="rounded-circle" />
      </div>
    </div>

    <div class="text-center mt-3 fonts">
      <div class="mt-2 mb-0">{{ username}}</div>
      <p>{{ firstname}} {{ lastname}}</p>
      <p>{{ profile.bio}}</p>
      <div class="px-4 mt-1 d-flex">
        <div class="fonts m-3"> <em class="fas fa-images"></em> {{ post?.length || 0}} Posts</div>
        <div class="fonts m-3"><em class="fas fa-user-friends"></em> {{ friends?.length || 0}} Friends</div>
      </div>
    </div>
  </div>

  <div *ngIf="!post || post.length === 0" class="no-post border-top">
    <em class="fa fa-photo-video" style="font-size: 45px"></em>
    <h2>No posts available</h2>
  </div>

  <div *ngIf="post && post.length > 0">
    <div #content *ngFor="let userpost of post" class="post border mb-3">
      <div class="post-top">
        <div class="dp" *ngIf="profile.profilepic">
          <img [src]="profile.profilepic" alt="" />
        </div>
        <div class="dp" *ngIf="!profile.profilepic">
          <img src="../../assets/images/user.jfif" alt="" />
        </div>
        <div class="post-info">
          <p class="name">{{ username }}</p>
          <span class="time">{{
            userpost.date_of_post | date : "dd MMMM"
            }}</span>
        </div>
      </div>

      <div class="post-content">
        <ng-container *ngIf="userpost.text">
            {{userpost.text}}
        </ng-container>

        <div *ngIf="MediaOfShouts[userpost.id].length === 1" class="post-content">
            <ng-container [ngSwitch]="getMediaType(MediaOfShouts[userpost.id][0].file)">
                <img *ngSwitchCase="'image'" [src]="MediaOfShouts[userpost.id][0].file" alt="image">
                <video *ngSwitchCase="'video'" controls>
                    <source [src]="MediaOfShouts[userpost.id][0].file" type="video/mp4">
                </video>
                <audio *ngSwitchCase="'audio'" controls class="audio">
                    <source [src]="MediaOfShouts[userpost.id][0].file" type="audio/mp3">
                </audio>
                <div *ngSwitchDefault>
                    Unsupported media type
                </div>
            </ng-container>
        </div>

        <carousel *ngIf="MediaOfShouts[userpost.id].length > 1" [noWrap]="true"
            #carousel class="post-content">
            <slide *ngFor="let media of MediaOfShouts[userpost.id]">
                <ng-container [ngSwitch]="getMediaType(media.file)">
                    <img *ngSwitchCase="'image'" [src]="media.file" alt="image"
                        style="width: 100%; height: 350px;">
                    <video *ngSwitchCase="'video'" controls style="width: 100%; height: 350px;">
                        <source [src]="media.file" type="video/mp4">
                    </video>
                    <audio *ngSwitchCase="'audio'" controls class="audio"
                        style="width: 100%; height: 200px;">
                        <source [src]="media.file" type="audio/mp3">
                    </audio>
                    <div *ngSwitchDefault>
                        Unsupported media type
                    </div>
                </ng-container>
            </slide>
        </carousel>
    </div>

      <!-- <div *ngIf="userpost.media" class="post-content">
        <ng-container [ngSwitch]="getMediaType(userpost.media)">
          <img *ngSwitchCase="'image'" [src]="userpost.media" alt="Image" />
          <video *ngSwitchCase="'video'" controls>
            <source [src]="userpost.media" type="video/mp4" />
          </video>
          <audio *ngSwitchCase="'audio'" controls>
            <source [src]="userpost.media" type="audio/mp3" />
          </audio>
          <div *ngSwitchDefault>Unsupported media type</div>
        </ng-container>
      </div> -->

      <div class="post-bottom">
        <div class="action" (click)="comment(userpost.id)">
          <em class="far fa-comment"></em>
          <span> Comment</span>
        </div>
        <div class="action" (click)="deletepost(userpost.id)">
          <em class="fa fa-ban"></em>
          <span> Delete</span>
        </div>
      </div>
    </div>
  </div>
</div>